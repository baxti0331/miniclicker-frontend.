<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Медитация Таймер</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(135deg, #4e54c8, #8f94fb);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      overflow: hidden;
    }
    h1 {
      margin-top: 0;
      font-weight: 700;
      font-size: 2.5rem;
      text-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    .buttons {
      margin: 30px 0;
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
    }
    button {
      background: linear-gradient(145deg, #6c63ff, #4b47f3);
      border: none;
      border-radius: 15px;
      box-shadow: 0 8px 15px rgba(75, 71, 243, 0.4);
      color: white;
      padding: 15px 30px;
      font-size: 1.2rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 140px;
      text-align: center;
    }
    button:hover {
      background: linear-gradient(145deg, #4b47f3, #6c63ff);
      box-shadow: 0 12px 20px rgba(75, 71, 243, 0.7);
      transform: translateY(-3px);
    }

    /* Часы */
    .clock {
      position: relative;
      width: 250px;
      height: 250px;
      border: 12px solid #fff;
      border-radius: 50%;
      background: radial-gradient(circle at center, #6c63ff, #4b47f3);
      box-shadow: 0 0 30px rgba(75, 71, 243, 0.7);
      margin: 20px auto;
      z-index: 1;
    }
    .hand {
      position: absolute;
      bottom: 50%;
      left: 50%;
      transform-origin: bottom center;
      background: white;
      border-radius: 6px;
      transition: transform 0.5s cubic-bezier(0.4, 2.34, 0.3, 1);
    }
    .hour {
      width: 8px;
      height: 60px;
      background: #dcd6f7;
      z-index: 3;
    }
    .minute {
      width: 6px;
      height: 90px;
      background: #b8b2f7;
      z-index: 2;
    }
    .second {
      width: 2px;
      height: 110px;
      background: #ff4e50;
      z-index: 1;
    }
    .center-dot {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 18px;
      height: 18px;
      background: #fff;
      border-radius: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 15px #ff4e50;
      z-index: 4;
    }

    /* Экран загрузки */
    #loading-screen {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(135deg, #1c1c49, #0d0d2b);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      color: white;
      text-align: center;
      padding: 20px;
    }
    #loading-screen h2 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 0 10px #6c63ff;
    }
    #loading-screen p {
      font-size: 1.2rem;
      margin-bottom: 40px;
      max-width: 320px;
      line-height: 1.4;
    }
    .progress-bar-container {
      width: 320px;
      height: 20px;
      background: #22234b;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 0 10px #6c63ff66 inset;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #6c63ff, #4b47f3);
      border-radius: 15px;
      transition: width 0.3s ease;
    }
  </style>
</head>
<body>

  <!-- Экран загрузки -->
  <div id="loading-screen">
    <h2>Расслабься</h2>
    <p>Подготовься к медитации и настройся на спокойствие</p>
    <div class="progress-bar-container">
      <div class="progress-bar" id="loading-progress"></div>
    </div>
  </div>

  <h1>Медитация Таймер</h1>

  <div class="buttons">
    <button id="start-btn">Начать</button>
    <button id="pause-btn" disabled>Пауза</button>
    <button id="reset-btn" disabled>Сброс</button>
  </div>

  <div class="clock">
    <div class="hand hour" id="hour-hand"></div>
    <div class="hand minute" id="minute-hand"></div>
    <div class="hand second" id="second-hand"></div>
    <div class="center-dot"></div>
  </div>

  <script>
    // Экран загрузки и прогресс-бар
    const loadingScreen = document.getElementById('loading-screen');
    const loadingProgress = document.getElementById('loading-progress');

    let loadPercent = 0;
    function loadingAnimation() {
      if (loadPercent >= 100) {
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
        }, 500);
        return;
      }
      loadPercent += Math.random() * 10;
      if (loadPercent > 100) loadPercent = 100;
      loadingProgress.style.width = loadPercent + '%';
      setTimeout(loadingAnimation, 300);
    }
    loadingAnimation();

    // Таймер медитации
    const startBtn = document.getElementById('start-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const resetBtn = document.getElementById('reset-btn');

    const hourHand = document.getElementById('hour-hand');
    const minuteHand = document.getElementById('minute-hand');
    const secondHand = document.getElementById('second-hand');

    let timerInterval = null;
    let totalSeconds = 0;
    let isRunning = false;

    function updateClockHands() {
      const hours = Math.floor(totalSeconds / 3600) % 12;
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;

      const hourDeg = (hours + minutes / 60) * 30; // 360/12 = 30
      const minuteDeg = (minutes + seconds / 60) * 6; // 360/60 = 6
      const secondDeg = seconds * 6;

      hourHand.style.transform = `rotate(${hourDeg}deg)`;
      minuteHand.style.transform = `rotate(${minuteDeg}deg)`;
      secondHand.style.transform = `rotate(${secondDeg}deg)`;
    }

    function startTimer() {
      if (isRunning) return;
      isRunning = true;
      startBtn.disabled = true;
      pauseBtn.disabled = false;
      resetBtn.disabled = false;

      timerInterval = setInterval(() => {
        totalSeconds++;
        updateClockHands();
      }, 1000);
    }

    function pauseTimer() {
      if (!isRunning) return;
      isRunning = false;
      clearInterval(timerInterval);
      startBtn.disabled = false;
      pauseBtn.disabled = true;
    }

    function resetTimer() {
      isRunning = false;
      clearInterval(timerInterval);
      totalSeconds = 0;
      updateClockHands();
      startBtn.disabled = false;
      pauseBtn.disabled = true;
      resetBtn.disabled = true;
    }

    startBtn.addEventListener('click', startTimer);
    pauseBtn.addEventListener('click', pauseTimer);
    resetBtn.addEventListener('click', resetTimer);

    // Инициализация стрелок на 12 часов при загрузке
    function initClock() {
      hourHand.style.transform = 'rotate(0deg)';
      minuteHand.style.transform = 'rotate(0deg)';
      secondHand.style.transform = 'rotate(0deg)';
    }

    initClock();
  </script>
</body>
</html>